<!DOCTYPE html>
<html>
<head>
  <title>Movie Info Generator</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="js/main.js"></script>

  <link rel="stylesheet" type="text/css" href="css/style.css">

  <script>
function render(movieArray, displayWide) {
  // This function will get called automagically with the return call.

  //Bonus question of readme
  //sort movies in alphabetical order by title
  function sortObjs(obj) {
    return obj.sort(function(a,b){
      return a.name > b.name;
    })
  }
  sortObjs(movieArray)

  // add all the movies together in one long string that will be return and displayed
  var allMovies = ""

  function displayMovies(display) {
    return movieArray.forEach(function (a) {
      allMovies += display(a)
    })
  }

  // based on screen width display either the moblie or desktop view
  if(displayWide) {
    allMovies += '<div class="big">';
    displayMovies(renderMovie)
    allMovies += '</div>'
  } else {
    allMovies += '<div class="small"><ul>';
    displayMovies(renderMovieCompact)
    allMovies += '</ul></div>'
  }

  return allMovies

}

//step 2 of readme
function renderMovie(movie) {

  // generate a list of class member in the repsective html tag
  function cast(object){
    var castStr = ''
    for(var i = 0; i < object.cast.length; i++) {
      castStr += '<li class="cast">' + object.cast[i] + '</li>';
    }
    return '<div> Starring: <ul>' + castStr + '</ul> </div>';
  }

  // wrap movie title within a h3 tag
  var movieTitle = '<h3 class="name">' + movie.name + '</h3>';

  // wrap the release date and genre in a paragraph.
  // span tag is wrapped around the render infomation from object
  var movieInfo = '<p> Release date: <span class="year">' + movie.year + '</span>, Genre: <span class="genre">' + movie.genre + '</span>.' + '</p>'
  
  // wrap the movie description in sp
  var movieDescription = '<p class="description">' + movie.description + '</p>'

  return '<div class="movie animation">' + movieTitle + movieInfo + cast(movie) + movieDescription + '</div>'
}

//step 3 of readme
//create compact version of movie info
function renderMovieCompact(movie) {
  var title = '<span class="name">' + movie.name + '</span> '
  var year = '<span class="year">' + movie.year + '</span> '
  var genre = '<span class="genre">' + movie.genre + '</span> '
  var cast = "starring: "
  for (var i = 0; i < movie.cast.length; i++) {
    if ( i !== movie.cast.length -1 ){
      cast += movie.cast[i] + ", "
    } else {
      cast += movie.cast[i] 
    }
    
  }

  return '<li class="movie animation">' + title + year + genre + cast + '</li>'
}


  </script>

</head>

<body>
</body>

</html>
